# Fabric 구성요소
### - 분산원장
	* 현재의 상태를 저장해 놓은 데이터베이스인 월드 스테이트(World State)와 상태변화에 대한 모든 로그 기록이 저장 되어있는 블록체인(Blockchain) 부분으로 나뉘어 있다.
	* 공유하고자 하는 데이터의 변화를 모두 기록해둔 것

### - 체인코드
	* 원장에 새로운 내용을 업데이트 하거나 기존의 내용을 읽어 오기 위해 필요한 것

### - peer
	* 원장과 체인코드를 관리하면 패브릭 네트워크를 구성하는 노드

##### ( 체인코드 실행을 요청하는 트랜잭션이 발생하면 3단계(execution - ordering - validation)의 과정을 거쳐 원장에 기록되고 사용자에게 결과를 반환한다. )

#### [ Peer는 수행하는 역할에 따라 크게 4가지로 구분 ]

— Endorsing peer : 체인코드 시뮬레이션을 통해 트랜잭션이 적절한지 판단하는 역할을 한다. 3단계의 과정 중 execution에 해당

— Committing peer : 모든 peer가 수행하는 역할로, 최신 블록에 대한 검증을 한다. 3단계의 과정 중 validation에 해당

— Anchor peer : 다른 조직과의 통신을 위해 다른 조직의 peer와 통신하는 역할을 한다.

— Leader peer : orderer와 연결되어 최신 블록을 전달받아 조직 내 다른 peer들에게 전송하는 역할을 한다.


##### 패브릭은 허가된 사용자만이 참여할 수 있는 허가형 블록체인이다.
##### 패브릭에서는 사용자의 권한 및 인증을 위해 MSP(Membership Service Provider)라는 인증 관리 시스템을 사용하는데, 여기에는 네트워크 내 노드의 역할과 권한 등이 정의되어 있다.
##### 이러한 MSP를 발급하고 관리하는 역할을 하는 기관은 CA(Certificate Authority)라고 한다. 사용자를 인증해 주는 것은 중요한 역할이기 때문에 CA는 보통 신뢰 있는 기관이 담당하는데, 하이퍼레저 패브릭에서는 Fabric-CA 노드가 그 역할을 수행한다.

##### 하이퍼레저 패브릭에서는 CA노드를 통해 1차적으로 사용자의 서명과 권한 등을 확인하고, peer를 통해 원장에 기록되기 전에 보증 정책(Endorsement Policy)을 준수하는지 확인하는 과정을 거친다. 보증 정책은 보통 해당 트랜잭션이 지정된 peer들의 허가를 받아야 한다는 내용인데, 원장을 공유하는 채널별로 참여자들은 다양한 방식으로 보증 정책을 설정할 수 있다.