# 하이퍼레져 패브릭
### 비트, 이더
— 블록 생성자 = 스마트 컨트랙트 처리 노드
— 개인키 기반

모든역할을 한 프로그램에서 할 수 있다.

### 패브릭
— 블록생서자 != 스마트 컨트랙트 처리 노드
— Orderer = 블록 생성만(블록 보관도 함)
— Peer = 시뮬레이팅, 블록체인 보관
— 인증서 기반
	-> 중간관리자가 존재, 그 역할을 하는   CA
— 하나의 키 값을 한 블록에서 여러 번 바꿀 수가 없다(일반적으로 생각하는 방식으로)

모든 역할을 나누어서 수행한다.

## 구성요소
— Peer
 -> 블록 보관, 트랜잭션을 시뮬레이팅하는 역할
— Orderer
 -> 거래를 모아서 블록에 찍어내기만 한다.
— App(User)

### Ledger
— 블록체인
— World state(Peer)
— Peer만 들고 있음(활용한다)

### 합의
— 투표
	a. BFT
	b. 3명 중 2명이 오케이 하면 됨

### 채널
— 채널에 참여한 노드들끼리만 스마트 컨트랙트와 블록을 공유 가능
— 다른 애들은 아예 못 봄



![](hyperledger_fabric/hyperledger%20logic.png)


![](hyperledger_fabric/%E1%84%91%E1%85%A2%E1%84%87%E1%85%B3%E1%84%85%E1%85%B5%E1%86%A8%20%E1%84%91%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A9%E1%84%8B%E1%85%AE.png)


![](hyperledger_fabric/%E1%84%91%E1%85%A2%E1%84%87%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%A8%20%E1%84%91%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A9%E1%84%8B%E1%85%AE%20%E1%84%83%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7.png)


## Fabric
— KVS(Key-Value Store)
— Level, couch [DB]
— chaincode
	-> a : 100
	-> b : hello )예
	-> 한 블록 내에서 하나의 키 값을 여러번 읽어서 바꿔 쓸 수가 없다.

### Read Set, Write set
— 한 번 write 한 키에 대해서는 Read를 하면 실패한다.




